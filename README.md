<h1 align="center">
  <br>
    HR Virtuoso: Your Intelligent HR Assistant
  <br>
</h1>

<p align="center"> 
  <a href="https://www.python.org/">
    <img src="https://img.shields.io/badge/-Python-3776AB?style=flat-square&logo=python&logoColor=white" alt="Python">
  </a>
  <a href="https://python.langchain.com/docs/get_started/introduction.html">
    <img src="https://img.shields.io/badge/-%F0%9F%A6%9C%EF%B8%8F%F0%9F%94%97_LangChain-000000?style=flat-square" alt="LangChain">
  </a>
  <a href="https://openai.com/">
    <img src="https://img.shields.io/badge/-OpenAI-412991?style=flat-square&logo=openai&logoColor=white" alt="OpenAI">
  </a>
  <a href="https://api.slack.com/automation/quickstart/">
    <img src="https://img.shields.io/badge/Slack-4A154B?style=flat-square&logo=slack&logoColor=white" alt="Slack">
  </a>
  <a href="https://supabase.com/docs/guides/api/">
    <img src="https://img.shields.io/badge/Supabase-3ECF8E?style=flat-square&logo=supabase&logoColor=white" alt="Slack">
  </a>
  <a href="https://docs.pinecone.io/docs/overview/">
    <img src="https://img.shields.io/badge/Pinecone-FFFFFF?style=flat-square&logo=data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjU2cHgiIGhlaWdodD0iMjg4cHgiIHZpZXdCb3g9IjAgMCAyNTYgMjg4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+CiAgICA8dGl0bGU+UGluZWNvbmU8L3RpdGxlPgogICAgPGc+CiAgICAgICAgPHBhdGggZD0iTTEwOC42MzM2MTUsMjU0LjQzNjI5IEMxMTcuNzEzODYyLDI1NC40MzYyOSAxMjUuMDc0ODU3LDI2MS43OTcyODQgMTI1LjA3NDg1NywyNzAuODc3NTMyIEMxMjUuMDc0ODU3LDI3OS45NTc3NzkgMTE3LjcxMzg2MiwyODcuMzE4Nzc0IDEwOC42MzM2MTUsMjg3LjMxODc3NCBDOTkuNTUzMzY3NywyODcuMzE4Nzc0IDkyLjE5MjM3MjgsMjc5Ljk1Nzc3OSA5Mi4xOTIzNzI4LDI3MC44Nzc1MzIgQzkyLjE5MjM3MjgsMjYxLjc5NzI4NCA5OS41NTMzNjc3LDI1NC40MzYyOSAxMDguNjMzNjE1LDI1NC40MzYyOSBaIE0xOTkuODQ5NjY1LDIyNC40MzgzMzkgTDIxNi4wOTcwNSwyMjkuMjUyMzc5IEwyMDMuMTk5OTEzLDI3Mi43ODAyMTkgQzIwMi4wNzI5ODIsMjc2LjU4MzYxIDE5OC40NTgwNDksMjc5LjA5NTk5MiAxOTQuNTAwMzg5LDI3OC44MjYzOTcgTDE5MC41MTY2NzcsMjc4LjU1Mjk3MyBMMTkwLjQxOTI2MywyNzguNjMzNDA5IEwxNDkuMDI5MTgsMjc1LjcyODkwMyBMMTUwLjE4MDg0MiwyNTguODIyNTA4IEwxNzcuOTg5MDU2LDI2MC43MDk2ODYgTDE1OS43ODM3ODQsMjM0LjQ0NzYyMiBMMTczLjcwOTYxNiwyMjQuNzkyMzc5IEwxOTEuOTM4ODk1LDI1MS4wODcwMiBMMTk5Ljg0OTY2NSwyMjQuNDM4MzM5IFogTTIzLjAxMjY3NzEsMTk0LjM0NzQ3NiBMMzkuOTE1ODg2NiwxOTUuNTQ0OTc5IEwzNy45MzU4OTcsMjIzLjM0ODcyOCBMNjQuMTUwMTMxNSwyMDUuMTIwMDgyIEw3My44MjcxNDc2LDIxOS4wMzA3OTMgTDQ3LjU3ODczNiwyMzcuMjc4Mzk0IEw3NC4zNzA3NTU0LDI0NS4xNzMwMzcgTDY5LjU4MTgwNjMsMjYxLjQyNzgzNSBMMjUuODQ4NTI2NiwyNDguNTQzMjQzIEMyMi4wMzA0NDQ4LDI0Ny40MTgzNjkgMTkuNTEwMTE1NSwyNDMuNzg3NDc5IDE5Ljc5MTM5NjMsMjM5LjgxNzA5MiBMMjMuMDEyNjc3MSwxOTQuMzQ3NDc2IFogTTEzMi4xNTEzMDYsMTcwLjY3MTM5NiBMMTYyLjY1ODY3OSwyMDcuNTAzNDY4IEwxNDguOTA5MjQ3LDIxOC44OTE4ODYgTDEzMC43NTMyNjYsMTk2Ljk3MjEzNCBMMTI0Ljg2Njk0MSwyMzAuNjczODkzIEwxMDcuMjgwMjQ5LDIyNy41OTk2MTMgTDExMy4xNzIyMzIsMTkzLjg0NTI3MiBMODguNzI5NjMxMSwyMDguMjU2ODkxIEw3OS42Njc0NTg3LDE5Mi44NzQ0MzQgTDEyMC43NDU1MDQsMTY4LjY3NDM3NyBDMTI0LjUyMjEwNCwxNjYuNDQ5NDkyIDEyOS4zNTUyOTcsMTY3LjI5NTcyNiAxMzIuMTUxMzA2LDE3MC42NzEzOTYgWiBNMjE3LjUwNDUyOCwxNDUuOTYwMTk4IEwyMzIuNzQ0MDE3LDEzNy42Njg4MDQgTDI1NC45NDQ4MiwxNzguNDczNjMzIEMyNTYuODg5NjQxLDE4Mi4wNDgxOTIgMjU2LjA4ODIyMSwxODYuNDk0MTcxIDI1My4wMTc2ODIsMTg5LjE2NDY3NCBMMjQ5Ljg3NjYyMiwxOTEuODc4Mzc1IEwyMTcuODI2MjQ2LDIxOS43NzEzMSBMMjA2LjQ0MTAzNCwyMDYuNjgwNjIxIEwyMjcuOTg4NTg4LDE4Ny45MzQ0OTQgTDE5NS44OTM1NDYsMTgyLjE1MjYwOSBMMTk4Ljk3MjQwMiwxNjUuMDc4OTQ5IEwyMzEuMDQ0ODQ0LDE3MC44NTc3OTMgTDIxNy41MDQ1MjgsMTQ1Ljk2MDE5OCBaIE0zNy43ODIxODA1LDEwMy4yOTkyNzIgTDQ5LjI2MjIxMjMsMTE2LjMwNjg4OCBMMjguMDEwNjMxNywxMzUuMDUwMTc5IEw2MC4xNjY4MjMzLDE0MC42NjQxOTMgTDU3LjE4NjM1NzMsMTU3Ljc1NTMwMyBMMjQuOTk0NzIyOSwxNTIuMTM2OTY3IEwzOC44MjIxMDQsMTc3LjEzNDU3NiBMMjMuNjQxMTAyNiwxODUuNTMyNTc3IEwxLjA4NDM5NjE2LDE0NC43NTY5OTIgQy0wLjg4NTAyNTQ5NCwxNDEuMTk2ODg0IC0wLjExNTU0NTI2NSwxMzYuNzQ2Mzc1IDIuOTM0ODgwOTcsMTM0LjA1NDE4NCBMMzcuNzgyMTgwNSwxMDMuMjk5MjcyIFogTTE0Ni40NzYzMTEsODkuODc5NjgyOCBMMTc2Ljg4MDQ1LDEyNi42MTI4NDcgTDE2My4xMjcxLDEzNy45OTY1MzIgTDE0NC45NzU0NDUsMTE2LjA2NzEwMSBMMTM5LjA4OTEyLDE0OS43Nzg5NDcgTDEyMS41MDI0MjgsMTQ2LjcwNDY2NiBMMTI3LjM3NDIzOCwxMTMuMDgxNDUyIEwxMDMuMDI1MjM3LDEyNy4zNTQ4MTcgTDkzLjk5NzYzMTcsMTExLjk1MjA0OCBMMTMxLjM5ODgxMiw5MC4wMjMzNjYzIEwxMzEuNDM1NjMxLDg5Ljg4MDg5OSBMMTMxLjYwMDU0NSw4OS45MDIzMjY1IEwxMzUuMDg1ODMzLDg3Ljg3MDE0MSBDMTM4Ljg2MTg3Nyw4NS42NTY5OTEzIDE0My42ODU1Niw4Ni41MDc5OTk2IDE0Ni40NzYzMTEsODkuODc5NjgyOCBaIE0xODUuNjU1Nzg2LDcxLjgxNDMxNjggTDE5Mi4zMDU1MzUsNTUuNzkwMjcwMyBMMjM1LjMxODIzOSw3My42Mzk5MjI5IEMyMzkuMDcyNDg2LDc1LjE5Nzg4MTEgMjQxLjI0MTUsNzkuMTUzNzYzNiAyNDAuNTM2MzU2LDgzLjE1NjgwOTEgTDIzOS44MjAyMzEsODcuMTM4NTgzOSBMMjMyLjQ3NTE3LDEyOC45MTk1NDUgTDIxNS4zODkxODgsMTI1LjkwOTgxOSBMMjIwLjMxMjY0Niw5Ny45NDEzODc5IEwxOTEuNzc2MTU3LDExMy43MTI5IEwxODMuMzkwMzAyLDk4LjUyNTE4NjIgTDIxMS45ODEwNzIsODIuNzQwODAzOCBMMTg1LjY1NTc4Niw3MS44MTQzMTY4IFogTTEwMy43MTY5Niw0MC4yMzczODI0IEwxMDQuNDU2NTEzLDU3LjU3MDY1MzMgTDc2LjA0MzI2NzEsNTguNzg1MDA2IEw5Ny40NzMwMzY4LDgzLjI3NDkwODYgTDg0LjQxNjU1MjksOTQuNjk5MzMxOSBMNjIuOTUwNzkzMiw3MC4xNzI4MzU4IEw1Ny45NDk2NzMsOTguMTczNzEzMiBMNDAuODcxNjU3NSw5NS4xMTkxMDg4IEw0OS4wNTYxNDk4LDQ5LjM2MDM1NjMgQzQ5Ljc3MTQ0NCw0NS4zNjEyMTE1IDUzLjE2NjQ2MzMsNDIuMzk0MjAzNiA1Ny4yMjUzODExLDQyLjIyMTAyMzEgTDYxLjI0NjE0OSw0Mi4wNDExNjQyIEw2MS4zMzYzMTY4LDQxLjk3NTggTDEwMy43MTY5Niw0MC4yMzczODI0IFogTTE2MS44MzgxNTUsMy4yNzE5NDgyNiBMMTkyLjEwNDgyNCw0MC4yMzY5Nzg5IEwxNzguMjkxMjA3LDUxLjU0NzQ1NzQgTDE2MC4zMjczMjksMjkuNjA0MzIyNyBMMTU0LjI2ODM4MSw2My4yNzE1MTU3IEwxMzYuNjk3MjMxLDYwLjEwOTYxMjEgTDE0Mi43NjY0NjgsMjYuMzY2NTA3NSBMMTE4LjI0MDAyLDQwLjcwNjI3NjUgTDEwOS4yMzI2NzgsMjUuMjkxNjQ5NCBMMTUwLjQyNzY3NSwxLjIxOTg3Mzk3IEMxNTQuMjE4Mjg2LC0wLjk5NTEyMTIzNyAxNTkuMDU2Nzk2LC0wLjEyNDk1NzgxNCAxNjEuODM4MTU1LDMuMjcxOTQ4MjYgWiIgZmlsbD0iIzIwMUQxRSI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4K" alt="Slack">
  </a>
</p>

<p align="center">
  <a href="#why-hr-virtuoso?">Why HR Virtuoso?</a>
  •
  <a href="#instructions-to-setup">Instructions to Setup</a>
  •
  <a href="#installation">Installation</a>
  •
  <a href="#contribution">Contribution</a>
</p>

# Why HR Virtuoso?
As an employee are you tired of waiting on HR responses? Meet HR Virtuoso! Say goodbye to delays and going through long policies. With HR Virtuoso, get instant answers to your queries, 24/7. No more hassle—just quick, accurate info at your fingertips. Empower yourself with the ultimate HR tool.

As an HR professional, are you all too familiar with the relentless loop of addressing the same questions? Well, it's time to envision a game-changing solution – presenting HR Virtuoso! Our cutting-edge tool is tailor-made to take care of those predictable inquiries surrounding company policies. This means you can reclaim valuable time to direct your energy towards driving strategic initiatives that truly matter. Elevate your role, supercharge your team's potential, and wave farewell to the humdrum routine. With HR Virtuoso, the future of HR management is at your fingertips.

Key Features:
- **HR Policy Expertise:** HR Virtuoso is a cutting-edge solution designed to provide accurate and comprehensive answers to any questions related to HR policies within your organization.
- **Advanced Natural Language Processing:** Powered by state-of-the-art Natural Language Processing (NLP) technology, the bot can understand and interpret the nuances of human language, ensuring that it comprehends even complex and context-dependent queries.
- **Feedback Loop:** Recognizing the significance of continuous improvement, HR Virtuoso comes with a built-in feedback mechanism, allowing users to provide feedback on the accuracy and helpfulness of the answers. This feedback loop can be used for the bot to learn and refine its responses over time.
- **Effortless Self-Service:** Employees no longer need to wait for HR personnel to clarify their doubts. HR Virtuoso empowers employees to find answers quickly and independently, leading to increased productivity and reduced dependency on HR staff for routine queries.
- **24/7 Availability:** HR Virtuoso is available round-the-clock, catering to employees in different time zones and accommodating diverse work schedules. This accessibility enhances employee satisfaction by providing instant support when needed.
- **Expandable Knowledge:** One of HR Virtuoso's standout features is its ability to autonomously expand its knowledge base in real-time. With a simple script execution, the bot can effortlessly integrate new HR policies as they are introduced by the company.

# Instructions to Setup
- Setup the environmental variables
  - Create a `.env` file in the working directory. Copy the contents of [.env.example](.env.example).
- Setup your openai account
  - Sign up with [OpenAI](https://platform.openai.com/signup).
  - Go to Personal -> View API Keys -> Create new secret key.
  - Copy this key and paste it in your `.env` file for the variable `OPENAI_API_KEY`. 
- Setup your slack app
  - Sign up with [Slack](https://slack.com/get-started#/createnew) and create your workspace.
  - Create a [slack app](https://api.slack.com/apps). Click from an app manifest, select your workspace, and copy the given below app manifest in yaml format or you can copy my [app manifest](app_manifest.yaml).
  ```yaml
  display_information:
    name: Demo Bot
    description: "Give a short discription here."
    background_color: "#2c2d30"
    long_description: "Give a long discription here with a minimum of 175 characters. This property is optional, you can remove this."
  features:
    bot_user:
      display_name: Demo Bot
      always_online: true
  oauth_config:
    scopes:
      user:
        - im:history
        - im:read
        - im:write
        - mpim:history
        - mpim:read
        - mpim:write
        - reactions:read
        - reactions:write
      bot:
        - app_mentions:read
        - channels:history
        - channels:read
        - chat:write
        - chat:write.customize
        - im:history
        - im:read
        - im:write
        - mpim:history
        - mpim:read
        - mpim:write
        - reactions:read
        - reactions:write
        - users:read
  settings:
    event_subscriptions:
      bot_events:
        - app_mention
        - im_history_changed
        - message.channels
        - message.im
        - reaction_added
    interactivity:
      is_enabled: true
    org_deploy_enabled: false
    socket_mode_enabled: true
    token_rotation_enabled: false
  ```
  - Click on Install to Workspace
- Setup the logs database
  - Sign up with [Supabase](https://supabase.com/dashboard/sign-in).
  - Create a new project with the appropriate region.
  - Your project URL will be the `SUPABASE_URL` env variable and `anon` `public` key will be the `SUPABASE_KEY`.
  - Create a table and name it `hr-gpt-feedback`. Disable `RLS` and create 6 columns:
    - Name: `id`, Type: `uuid`, Default Value: `gen_random_uuid()`, make this as primary key.
    - Name: `user_name`, Type: `Text`,
    - Name: `user_query`, Type: `Text`,
    - Name: `actual_output`, Type: `Text`,
    - Name: `expected_output`, Type: `Text`,
    - Name: `reaction`, Type: `Text`,
- Setup the vector database
  - Sign up with [Pinecone](https://app.pinecone.io/).
  - Create a project and select the appropriate region.
  - Create an index, name it as `hr-data`. Configure your index to have `cosine` metric with `1536` dimensions.
# Installation
- Clone the repository: `git clone https://github.com/ibizabroker/slack-hr-gpt.git`
- Create a virtual environment
```bash
pip install virtualenv
virtualenv venv
```
- Activate virtual environment on Windows: 
```bash
.\venv\Scripts\activate
```
- Activate virtual environment on MAC: 
```bash
source venv/bin/activate
```
- Once your virtual environment is activated, install the required pacakges: `pip install -r requirements.txt`
- Upload the necessary HR polices in the [pdf](./pdfs/) directory.
- Ingest this data into pinecone.
```bash
cd llm
python ingest.py
```
- Run the bot in an activated virtual environment: `python bot.py`

# Contribution
Feel free to open an issue or submit a pull request. Your feedback and suggestions are greatly appreciated :)

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.